# 웹 기반 평면도 제작 도구 - 스프린트 계획

## 난이도 분류

### 쉬움 (1-2일)

| 기능 | 설명 |
|------|------|
| 캔버스 초기화 | Three.js 캔버스 세팅 |
| 그리드 표시 | 배경 격자선 |
| 줌 인/아웃 | 마우스 휠 |
| 팬 (드래그 이동) | 캔버스 이동 |
| 객체 선택 | 클릭 선택 |
| 객체 삭제 | Delete 키 |
| 객체 이동 | 드래그 |
| PNG 내보내기 | canvas.toDataURL() |
| localStorage 저장 | JSON 직렬화 |
| 가구 드래그 배치 | 라이브러리 → 캔버스 |

### 보통 (3-5일)

| 기능 | 설명 | 비고 |
|------|------|------|
| 사각형 방 생성 | 치수 입력 → 4개 벽 생성 | 벽 객체 구조 설계 필요 |
| 가구 회전 | 90도 또는 자유 회전 | 회전 핸들 UI |
| 가구 크기 조절 | 드래그 리사이즈 | 비율 유지 옵션 |
| 치수선 표시 | 벽 위에 길이 표시 | 텍스트 위치 계산 |
| 실행취소/다시실행 | Ctrl+Z, Ctrl+Y | 히스토리 스택 관리 |
| PDF 내보내기 | jsPDF 연동 | 레이아웃 맞추기 |
| 회원가입/로그인 | Supabase Auth | OAuth 설정 |
| 프로젝트 목록 | CRUD | DB 스키마 설계 |
| 가구 라이브러리 UI | 카테고리별 사이드바 | 검색, 필터링 |

### 어려움 (1-2주)

| 기능 | 설명 | 비고 |
|------|------|------|
| 벽 개별 그리기 | 클릭-드래그로 벽 선 | 시작점/끝점 상태 관리 |
| 벽 끝점 스냅 | 다른 벽에 자동 연결 | 근접 감지 알고리즘 |
| 벽 길이 조절 | 끝점 드래그 | 연결된 벽 함께 이동 |
| 문/창문 벽에 배치 | 벽 위에만 스냅 | 벽 감지 + 위치 계산 |
| 문 열림 표시 | 호 그리기 | 방향 판단 로직 |
| 공유 링크 | URL로 프로젝트 보기 | 권한 관리 |

### 매우 어려움 (2주+)

| 기능 | 설명 | 비고 |
|------|------|------|
| 다각형 방 그리기 | 클릭으로 꼭짓점 | 닫힌 폴리곤 판정, 자기교차 방지 |
| 실시간 협업 | 동시 편집 | CRDT, 충돌 해결 |
| 벽 자동 연결 | 방 합치면 벽 병합 | 그래프 알고리즘 |
| 면적 자동 계산 | 닫힌 영역 면적 | 폴리곤 면적 공식 + 영역 감지 |
| AI 가구 추천 | 공간에 맞는 배치 | ML 모델 필요 |

---

## 스프린트 계획

### Sprint 0: 환경 세팅 (3일)

**목표**: 개발 시작할 수 있는 상태

- [ ] Nuxt 3 프로젝트 생성
- [ ] Three.js 설치 및 기본 캔버스
- [ ] TailwindCSS 설정
- [ ] Pinia 설정
- [ ] Git 저장소 초기화
- [ ] 기본 레이아웃 (헤더, 사이드바, 캔버스 영역)

**결과물**: 빈 캔버스가 보이는 웹페이지

---

### Sprint 1: 캔버스 기본 (2주)

**목표**: 캔버스에서 자유롭게 탐색할 수 있다

**Week 1 - 쉬움**
- [ ] 그리드 배경 표시
- [ ] 마우스 휠 줌
- [ ] 캔버스 드래그 팬
- [ ] 줌 리셋 버튼

**Week 2 - 보통**
- [ ] 사각형 방 생성 (치수 입력 모달)
- [ ] 방 선택/이동
- [ ] 방 삭제
- [ ] 벽에 치수 표시

**결과물**: 방 크기 입력하면 사각형이 그려지고, 치수가 표시됨

---

### Sprint 2: 가구 배치 (2주)

**목표**: 방 안에 가구를 배치할 수 있다

**Week 1 - 쉬움**
- [ ] 가구 라이브러리 UI (사이드바)
- [ ] 가구 데이터 10개 준비 (침대, 소파, 테이블 등)
- [ ] 드래그 앤 드롭 배치
- [ ] 가구 선택/이동/삭제

**Week 2 - 보통**
- [ ] 가구 90도 회전 (버튼 또는 단축키)
- [ ] 가구 자유 회전 (핸들)
- [ ] 가구 크기 조절
- [ ] 가구 복제 (Ctrl+D)

**결과물**: 방에 가구를 배치하고 조정할 수 있음

---

### Sprint 3: 저장/내보내기 (2주)

**목표**: 작업물을 저장하고 공유할 수 있다

**Week 1 - 쉬움~보통**
- [ ] localStorage 자동 저장 (30초마다)
- [ ] JSON 내보내기/불러오기
- [ ] PNG 내보내기
- [ ] PDF 내보내기

**Week 2 - 보통**
- [ ] 실행취소/다시실행 (히스토리 10단계)
- [ ] Ctrl+Z, Ctrl+Y 단축키
- [ ] 새 프로젝트 시작 (현재 작업 확인)

**결과물**: 작업 저장되고, 이미지/PDF로 다운로드 가능

---

### Sprint 4: 사용자 계정 (2주)

**목표**: 로그인해서 여러 프로젝트 관리

**Week 1 - 보통**
- [ ] Supabase 프로젝트 생성
- [ ] 회원가입/로그인 (이메일)
- [ ] Google 소셜 로그인
- [ ] 로그아웃

**Week 2 - 보통**
- [ ] DB 스키마 설계 (users, projects)
- [ ] 프로젝트 서버 저장
- [ ] 프로젝트 목록 페이지
- [ ] 프로젝트 삭제/이름변경

**결과물**: 로그인하면 내 프로젝트 목록이 보임

---

## 🎯 MVP 완료 (8주)

MVP로 할 수 있는 것:
- ✓ 방 크기 입력해서 생성
- ✓ 가구 배치, 회전, 크기 조절
- ✓ PNG/PDF로 내보내기
- ✓ 로그인해서 여러 프로젝트 저장
- ✓ 실행취소

---

### Sprint 5: 벽 편집 (2주) - 어려움

**목표**: 벽을 자유롭게 편집할 수 있다

**Week 1**
- [ ] 벽 개별 선택
- [ ] 벽 길이 조절 (끝점 드래그)
- [ ] 벽 삭제 (방이 열린 형태로)

**Week 2**
- [ ] 벽 개별 그리기 모드
- [ ] 벽 끝점 스냅 (10px 이내 자동 연결)
- [ ] 스냅 시각적 피드백 (점 하이라이트)

---

### Sprint 6: 문/창문 (2주) - 어려움

**목표**: 벽에 문과 창문을 추가할 수 있다

**Week 1**
- [ ] 문/창문 라이브러리
- [ ] 벽 위에 드래그해서 배치
- [ ] 벽 감지 + 스냅

**Week 2**
- [ ] 문 열림 방향 표시 (호)
- [ ] 문/창문 크기 조절
- [ ] 문/창문 종류 (여닫이, 미닫이)

---

### Sprint 7: 공유/협업 (2주)

**목표**: 다른 사람과 공유할 수 있다

**Week 1**
- [ ] 공유 링크 생성 (보기 전용)
- [ ] 링크로 프로젝트 보기 페이지
- [ ] 링크 만료 설정

**Week 2**
- [ ] 편집 권한 공유
- [ ] 공유받은 프로젝트 목록

---

### Sprint 8: 템플릿/UX 개선 (2주)

**목표**: 더 쉽게 시작할 수 있다

**Week 1**
- [ ] 시작 템플릿 5개 (원룸, 1LDK, 2LDK 등)
- [ ] 템플릿 선택 화면
- [ ] 템플릿 미리보기

**Week 2**
- [ ] 첫 방문 튜토리얼
- [ ] 키보드 단축키 안내
- [ ] 빈 상태 안내 UI

---

## 전체 타임라인

```
Month 1-2: MVP
├── Sprint 0: 환경 세팅 (3일)
├── Sprint 1: 캔버스 기본 (2주)
├── Sprint 2: 가구 배치 (2주)
├── Sprint 3: 저장/내보내기 (2주)
└── Sprint 4: 사용자 계정 (2주)

Month 3-4: 기능 확장
├── Sprint 5: 벽 편집 (2주)
├── Sprint 6: 문/창문 (2주)
├── Sprint 7: 공유 (2주)
└── Sprint 8: 템플릿/UX (2주)

Month 5+: 고도화 (선택)
├── 다각형 방 그리기
├── 실시간 협업
├── 면적 계산
└── 커뮤니티 기능
```

---

## 리스크 체크포인트

| 시점 | 체크 항목 | 실패시 대안 |
|------|-----------|-------------|
| Sprint 1 끝 | 벽 스냅 없이도 쓸만한가? | 스냅 우선순위 낮춤 |
| Sprint 2 끝 | 가구 배치가 직관적인가? | UX 개선 스프린트 추가 |
| Sprint 4 끝 | MVP로 가치 있나? | 출시 후 피드백 수집 |
| Sprint 6 끝 | 문/창문 스냅이 너무 어려우면? | 수동 배치로 단순화 |

---

## 기술 스택

```
Frontend: Nuxt 3 + Vue 3 + TypeScript
Canvas: Three.js
상태관리: Pinia
스타일: TailwindCSS
Backend: Nuxt Server API (Nitro)
DB/Auth: Supabase
배포: Vercel
```
